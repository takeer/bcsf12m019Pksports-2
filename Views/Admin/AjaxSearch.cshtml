@{
    Layout = null;
    ViewBag.Title = "AjaxSearch";
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")


</head>
<body class="row" style="background-color:white">
    @{

        var category = ViewBag.category;
    }
    @*Fixed Top*@
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="navigation">
        <div class="navbar-header">
            <a class="navbar-brand btn btn-default" href="/Admin/Index">Pk Sports</a>
        </div>
        <div>
            <ul class="nav navbar-nav">
                <li>
                    <a href="/Admin/Index" class="btn btn-default hidden-xs"><span class="glyphicon glyphicon-home"></span> Home </a>
                </li>
                <li>
                    <a href="/Admin/AddAnItem" class="btn btn-default hidden-xs"><span class="glyphicon glyphicon-envelope"></span> Add new Item </a>
                </li>
                <li>
                    <a href="/Admin/AddAnUser" class="btn btn-default hidden-xs"><span class="glyphicon glyphicon-user "></span> Add new User </a>
                </li>

                <li>              </li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown hidden-xs">
                    <a href="#" class="dropdown-toggle btn btn-default" data-toggle="dropdown"><span class="glyphicon glyphicon-cog"></span> Account <b class="caret"></b> </a>
                    <ul class="dropdown-menu">
                        <li><a class="btn btn-default btn-toolbar">My Account</a></li>
                        <li>
                            <a class="btn btn-block hidden-xs" href="/Admin/Messages"><span class="glyphicon glyphicon-envelope"></span> Messages</a>
                        </li>
                        <li><a class="btn btn-default hidden-xs" href="/Admin/Add Account">Add Account</a></li>
                    </ul>
                </li>

                <li>
                    <a href="/Admin/signIn" class="btn btn-default hidden-xs"><span class="glyphicon glyphicon-log-in"></span> Login/Logout</a>
                </li>
            </ul>
        </div>
    </nav>

    @*Fixed Bottom*@
    <div class="navbar navbar-default @*navbar-inverse*@  navbar-fixed-bottom hidden-xs">
        <div class="navbar-header"><a class="navbar-brand btn btn-default" href="/Admin/Index">PK SPORTS</a></div>
        <div>
            <ul class="nav navbar-nav">
                <li><a class="btn btn-default disabled">WE DELIEVER OUR BEST AND WE ARE BEST AT IT</a></li>

            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a class="btn btn-default disabled">WE DELIEVER OUR BEST AND WE ARE BEST AT IT</a></li>
                <li>

                    <a href="/Admin/Index" class="btn btn-default"> PK SPORTS </a>
                </li>
            </ul>
        </div>
        @*<div class="container">
                <div class="navbar-header well-sm">
                    @Html.ActionLink("Pk Sports", "Index", "Home", null, new { @class = "navbar-brand" })
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                    </ul>
                </div>
            </div>*@
    </div>
    <br /><br />
    <style>
        .carousel-inner > .item > img,
        .carousel-inner > .item > a > img {
            width: 100%;
            height: 50%;
            max-height: 200px;
            margin: auto;
            border: dotted;
        }
    </style>
    @*search menu and slide show *@
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-7 " style="border:dotted" @*style="background-color:white"*@>
            <br />
            <div><button class="btn btn-primary disabled">FAST SEARCH MENU</button></div>
            <form role="form" method="post" id="searchform">
                <div class="form-inline">
                    <input type="text" class="form-control" id="minprice" placeholder="Min price">
                    <input type="text" class="form-control" id="maxprice" placeholder="Max price">
                </div>
                <div class="form-inline">
                    @{List<SelectListItem> list1 = (List<SelectListItem>)Session["listCategory"];}
                    @Html.DropDownList("Catag", list1, "-Select Category-", new { @class = "form-control", id = "category" })


                    <input type="text" class="form-control" id="date" placeholder="Date" name="DateofAdded">
                </div>
                <div class="form-inline">

                </div>



                <button type="button" class="btn btn-primary " id="search">S E A R C H  ---    I T E M</button>
                <button type="reset" class="btn btn-primary">R E S E T</button>
            </form>


            <br />
        </div>
        <div class="col-md-4">
            <div id="myCarousel" class="carousel slide" data-ride="carousel">
                <!-- Indicators -->
                @*<ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>
                        <li data-target="#myCarousel" data-slide-to="3"></li>
                    </ol>*@

                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                    <div class="item active">
                        <img class="thumbnail  img-responsive" src="/Images/0.jpg" width="200" height="200">
                        <div class="carousel-caption text-right">
                            <h3>Chania</h3>
                            <p>The atmosphere in Chania has a touch of Florence and Venice.</p>
                        </div>
                    </div>

                    <div class="item">
                        <img class="thumbnail img-responsive" src="/Images/1.jpg" width="200" height="200">
                    </div>

                    <div class="item">
                        <img class="thumbnail img-responsive" src="/Images/2.jpg" width="200" height="200">
                    </div>

                    <div class="item">
                        <img class="thumbnail" src="/Images/3.jpg" width="200" height="200">
                    </div>
                </div>

                <!-- Left and right controls -->
                @*<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>*@
            </div>
            <button class="btn btn-primary btn-lg disabled">TODO-write some thing heare using js</button>
            <br /><br />
        </div>
    </div>
    @*Categories and renderbody()*@



    <div class="row">
        <div class="col-lg-2">

            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4><i class="fa fa-fw fa-check"></i>Major Categories</h4>
                </div>
            </div>
            <table class="table table-bordered">

                @foreach (var s in category)
                {
                    <tr class="hidden-xs">
                        <td>
                            <span class="glyphicon glyphicon-chevron-right"></span>
                            @*@Html.ActionLink(@ViewBag.categories[i]) ,"Categories");*@
                            @*@Html.ActionLink(@ViewBag.categories[i], "Index")*@
                            <a href=@("/Admin/ItemsOfACategory/?category="+s.Name) class="btn btn-link">@(s.Name)</a>
                        </td>
                    </tr>
                }
                <tr>
                    <td>
                        <span class="glyphicon glyphicon-chevron-right"></span><a href="/Admin/Index" class=" btn btn-link">Pupolar</a>
                    </td>
                </tr>
            </table>
        </div>


















        <div class="container col-md-8" align="center">
            <table class="table table-bordered" id="table1"></table>
        </div>
        <hr />
    </div>
    @*Bottom*@
    <div style="background-color:black;border:dotted">
        <br />
        <footer class="bottom">
            <div class="container">
                @*<div class="row text-center">*@   @*with class="row" page scrols horizontaly!!!*@
                <div class="col-md-4" @*style="border:dotted"*@>
                    <h2>Getting to Users</h2>
                    <p><span class="glyphicon glyphicon-chevron-right"> </span><a href="/Adim/AddAnUser"> ADD AN USER</a></p>
                    <p><span class="glyphicon glyphicon-chevron-right"> </span><a href="/Home/DeleteAnUser"> DELETE AN USER</a></p>
                    <p><span class="glyphicon glyphicon-chevron-right"> </span><a href="/Home/UpdateAnUser"> UPDATE AN USER</a></p>
                    <br /><br />
                </div>
                <div class="col-md-4" @*style="border:dotted"*@>
                    <h2>Complains and Issues</h2>
                    <p><span class="glyphicon glyphicon-chevron-right"> </span><a href="/Admin/Complains"> GETTING ISSUES</a></p>
                    <p><span class="glyphicon glyphicon-chevron-right"> </span><a href="/Admin/Complains"> GETTING BUGS</a></p>
                    <br /><br /><br />
                </div>

            </div>
            <br />
            <br />
            <br />
        </footer>
    </div>














    <script type="text/javascript" src="~/Scripts/jquery-ui.js"></script>
    <link type="text/css" href="~/Content/jquery-ui.css" rel="stylesheet" />
    <script>

        $(document).ready(function () {
            $("#date").datepicker({
                flat: true,
                date: '2008-07-31',
                current: '2008-07-31',
                calendars: 1,
                starts: 1
            });

        });
    </script>











</body>
</html>

<script>
    $(document).ready(function () {

        $("#search").click(function () {

            var minvalue = parseInt($('#minprice').val());
            if ($.isNumeric(minvalue) == false)
                minvalue = null;
            var maxvalue = parseInt($('#maxprice').val());
            if ($.isNumeric(maxvalue) == false)
                maxvalue = null;
            var catag = $('[name="Catag"]').val();

            if (catag == "") {
                $('[name="Catag"]').css('border-color', 'red');
                $('[name="Catag"]').focus();
                return false;
            }

            if (minvalue == NaN || minvalue == null || minvalue == "")
                minprice = 0;
            if (maxvalue == NaN || maxvalue == null || maxvalue == "")
                maxval = 2147483647;

            var lp1 = $('#minprice').val();
            var hp1 = $('#maxprice').val();


            $.ajax({
                url: "/Admin/Search?minvalue=" + minvalue + "&maxvalue=" + maxvalue + "&catag=" + catag,
                dataType: 'JSON',
                type: 'GET',
                error: function () {
                    alert("ubalbe to fetch data");
                },
                success: function (result) {
                    $("#table1").html("");
                    $("#table1").append("<tr><th>Id</th><th>Name</th><th>Price</th><th>quantity</th></tr>")
                    $.each(result, function (index) {
                        $("#table1").append("<tr>"
                            + "<td>" + result[index].Id + "</td>"
                            + "<td>" + " Name " + result[index].Name + "</td>"
                           + "<td>" + result[index].Price + "</td>"
                           +"<td>"+result[index].Quantity +"</td>"
                            +"</tr>");
                    })
                    

                }
            });

        })
    })
</script>